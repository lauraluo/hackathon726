var app={};app.module={version:"0.1",namespace:function(t){var a,e=t.split("."),i=app;for("app"===e[0]&&(e=e.slice(1)),a=0;a<e.length;a+=1)"undefined"==typeof i[e[a]]&&(i[e[a]]={}),i=i[e[a]];return i},inherit:function(t,a){t.prototype=new a},pluginWidget:function(t){var t=$(t),a=500,e=t.find(".content"),i={labels:["活躍度","熱門度","專業度","原創度"],datasets:[{label:"參考值",fillColor:"rgba(220,220,220,0.6)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointHighlightStroke:"rgba(220,220,220,1)",pointLabelFontSize:16,data:[5,5,5,5]},{label:"粉絲團體檢器",fillColor:"rgba(255,255,255,0.0)",strokeColor:"rgba(255,255,255,0.5)",pointColor:"rgba(250,133,100,1.0)",pointStrokeColor:"rgba(250,133,100,1.0)",pointHighlightFill:"rgba(250,133,100,1)",pointHighlightStroke:"rgba(220,220,220,1)",pointLabelFontSize:16,data:[10,8,7,5]}]};e.css({height:$(window).height()-48,overflow:"hidden"}),e.niceScroll(),t.niceScroll(),$(window).resize(function(){e.getNiceScroll().resize(),e.css({height:$(window).height()-48,overflow:"hidden"})}),t.find(".loadingBanr").fadeOut(a,function(){window.myRadar=new Chart(document.getElementById("radarCanvas").getContext("2d")).Radar(i,{responsive:!0,pointDotRadius:5,scaleLineWidth:1,scaleFontFamily:"'Verdana','微軟正黑體','儷黑 Pro','Arial','Helvetica','sans-serif','STHeiti Light','LiHei Pro','Microsoft Yahei','Microsoft JhengHei','新細明體'",tooltipFontSize:16,tooltipFontStyle:"'Verdana','微軟正黑體','儷黑 Pro','Arial','Helvetica','sans-serif','STHeiti Light','LiHei Pro','Microsoft Yahei','Microsoft JhengHei','新細明體'"})}),t.find(".content").delay(a).addClass("activeSence");var n=[{val:[40],avg:15,domainX:[10,15,100],lv:3.2},{val:[.5],avg:.2,domainX:[0,.4,.6],lv:9.1},{val:[40],avg:15,domainX:[10,15,100],lv:6.2},{val:[.5],avg:.2,domainX:[0,.4,.6],lv:9.1},{val:[40],avg:15,domainX:[10,15,100],lv:3.2},{val:[.5],avg:.2,domainX:[0,.4,.6],lv:9.1}],o={w:360,h:43,barH:31,paddingTop:10,paddingLeft:20},r=t.find(".barfield");r.each(function(t,a){for(var e=n[t].lv,i=$(a),r="",s=n[t].domainX,l=n[t].val,d=n[t].avg,c=[],h=i.data("name"),g=s.length;g>0;g--)c.push(Math.round(o.w/g));r=e>=8?"ok":e>=6?"safe":"bad";var f=['   <ul class="chartInfo tipinfo">','       <li class="barSquare"><span class="block"></span>'+h+'<span class="number">555</span></li>','       <li class="avg"><span class="block"></span>平均<span class="number">'+d+"</span></li>",'       <li class="range"><span class="block"></span>級距<span class="number">'+s[0]+"-"+s[s.length-1]+"</span></li>",'       <li class="order">排序<span class="number">11111</span></li>',"   </ul>"].join("");i.addClass(r),i.find(".barChart").tooltipster({animation:"fade",delay:300,theme:"tooltipster-default customtip "+r,touchDevices:!1,trigger:"hover",content:"testword",content:f,minWidth:150,contentAsHTML:!0});var p=d3.select(a).selectAll(".barChart").append("svg").attr("class","barSence").attr("width",o.w).attr("height",o.h),c=d3.scale.linear().domain(s).range(c).nice(),u=(p.append("rect").attr("class","warp").attr("x",function(){return 0}).attr("y",function(){return 10}).attr("width",function(){return o.w}).attr("height",function(){return o.barH}),p.selectAll(".barSence").data(l).enter().append("rect").attr("class","barObj").attr("x",function(){return 0}).attr("y",function(){return 10}).attr("width",function(){return 0}).attr("height",function(){return o.barH}));u.transition().attr("width",function(t){return c(t)}),i.find(".avg").animate({left:c(d)-8},500)})},fanList:function(t){var t=$(t),a=t.find(".fanItem"),e=$("#areaID_widgetWindow"),i=e.find("> .mask");t.css({height:$("body").height()}),e.css({height:$("body").height()}),i.css({height:$("body").height(),width:$("body").width()}),t.niceScroll(),$(window).resize(function(){t.css({height:$("body").height()}),t.getNiceScroll().resize(),e.css({height:$("body").height()}),i.css({height:$("body").height(),width:$("body").width()})}),a.each(function(t,a){var e=$(a),i='<div class="loadingBar"></div>',n=$(i),o=0,r=setInterval(function(){l()},500),s=(e.find(".waveLoad"),e.find(".arrowBlock"));e.append(n);var l=function(){return o+=10,o>=100?(clearInterval(r),e.find(".waveLoad").remove(),s.show(),s.css({transition:"transform 0.3s ease-in-out"}),s.css({transform:"scale(1.0)"}),s.addClass("active"),e.removeClass("disabled"),n.fadeOut().remove(),void 0):(n.css({transition:"width 0.3s ease-in-out"}),n.css({width:o+"%"}),void 0)}}),a.on("click",function(){i.show(),e.find(".winWarp").animate({width:420})})},indexhero:function(t){var t=$(t);t.css({height:$("body").height()}),t.niceScroll(),$(window).resize(function(){t.css({height:$("body").height()}),t.getNiceScroll().resize()})}},function(){var t=function(t,a){var e=document.getElementById(t);e&&a(e)};t("pluginWidget",app.module.pluginWidget),t("areaID_fanList",app.module.fanList),t("areaID_hero",app.module.indexhero)}();